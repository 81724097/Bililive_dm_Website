<div id="footer-container">
    <footer class="w3-container w3-theme-d3 w3-padding-16">
        <h5>弹幕姬讨论群：
            <a target="_blank" rel="nofollow" href="https://jq.qq.com/?_wv=1027&k=47BX3LC">627565437</a> |
            <a target="_blank" rel="nofollow" href="https://jq.qq.com/?_wv=1027&k=40iYCqV">95349372</a> |
            <a target="_blank" rel="nofollow" href="https://jq.qq.com/?_wv=1027&k=40iVN8M">423768065</a> |
            <a target="_blank" rel="nofollow" href="https://jq.qq.com/?_wv=1027&k=40iYChK">549858724</a>
        </h5>
    </footer>
    <footer class="w3-container w3-theme-d5">
        <p>非B站出品 | B站弹幕姬 © 2014 - 2017 CopyLiu | <a target="_blank" href="https://github.com/copyliu/bililive_dm/">弹幕姬 GitHub 仓库</a></p>
    </footer>
    <div class="w3-hide">
        <script>
            (function () {
                if (window.attachEvent) {
                    window.attachEvent('onload', loadComplete);
                } else {
                    window.onload = loadComplete;
                }
            })();

            function loadComplete() {
                /*
                if (!getCookie('maintain20170706')) {
                    notie.alert({
                        type: 2,
                        text: '网站将会在 2017.7.6 14:00 - 16:00 进行维护，可能会出现访问出错的情况',
                        time: 6
                    });
                    setCookie('maintain20170706', '1', .25);
                }
                */
                setTimeout(showQuestionnaire, 3e4);
                // 30 秒后尝试显示问卷提醒
            }

            function showQuestionnaire() {
                // 之前没有参与问卷 && 当前页面没有参与问卷 && 当前没有其他正在显示的 swal
                if (!getCookie('questionnaire20170825') && !window.quedone && !swal.isVisible()) {
                    window.quedone = true;
                    setTimeout(function () {
                        swal({
                            title: '要参与弹幕姬功能需求调查吗？',
                            html: "统计结果将用于决定对弹幕姬功能的调整<br>问卷截止到8月31日",
                            showCancelButton: true,
                            confirmButtonText: '打开问卷',
                            cancelButtonText: '拒绝'
                        }).then(function () {
                            if (null === window.open("https://wj.qq.com/s/1523138/a61d")) {
                                ga('send', 'event', '问卷调查20170825', '打开失败');
                                swal('问卷打开失败', null, 'error')
                            } else {
                                ga('send', 'event', '问卷调查20170825', '打开成功');
                                setCookie('questionnaire20170825', '1', 3);
                            }
                        }, function (dismiss) {
                            if (dismiss === 'cancel') {
                                ga('send', 'event', '问卷调查20170825', '拒绝参与');
                                setCookie('questionnaire20170825', '1', .5);
                            }
                        })
                    }, 1e3)
                }
            }

            var setCookie = function (name, value, days) {
                var expires;
                if (days) {
                    var date = new Date();
                    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                    expires = "; expires=" + date.toGMTString();
                } else {
                    expires = "";
                }
                document.cookie = name + "=" + value + expires + "; path=/";
            }
            var getCookie = function (c_name) {
                if (document.cookie.length > 0) {
                    c_start = document.cookie.indexOf(c_name + "=");
                    if (c_start != -1) {
                        c_start = c_start + c_name.length + 1;
                        c_end = document.cookie.indexOf(";", c_start);
                        if (c_end == -1) {
                            c_end = document.cookie.length;
                        }
                        return unescape(document.cookie.substring(c_start, c_end));
                    }
                }
                return null;
            }
        </script>
    </div>
</div>